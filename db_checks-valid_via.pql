PROCEDURE      DB_CHECKS.VALID_VIA:T  (157548,41428)  |Last amended Feb 19, 2014,11:30:28
c check the via and see if it access a record

ERROR LIMIT NONE
PROGRAM
. ANY_NUM__4 = globalN( 'GERROR_CHECK', nglobal('GERROR') )
END PROGRAM

retrieval
CIF EQ 1, 0<GCASED>
process cases
| old case is <GCASE_IS>
CIF END

. process rec <GDB_REC> | <GVIA#>
. end rec

CIF EQ 1, 0<GCASED>
end case | is
CIF END
end retrieval

program
. ifthen ( nglobal('GERROR_CHECK') LT nglobal('GERROR'))
.   ANY_NUM__4 = globals( 'GSOME_MESS', 'Via did not work')
.   EXECUTE DBMS 'CALL WPF.INC_BODY_FORMS.UNK_ERR'
. endif
end program

ERROR LIMIT 99



END PROCEDURE
